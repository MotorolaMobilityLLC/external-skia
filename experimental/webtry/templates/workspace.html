<!DOCTYPE html>
<html>
<head>
    <title>Workspace</title>
    <meta charset='utf-8' />
    <link rel="stylesheet" href="/css/" type="text/css" media="screen">
</head>
<body>
  {{template "titlebar.html"}}
  <section id=content>
  <h1>Create</h1>
{{if .Name}}
  <pre><code>#include "SkCanvas.h"

void draw(SkCanvas* canvas) {
  <textarea name='code' id='code' rows='15' cols='80'>{{.Code}}</textarea>
}
</code></pre>

  <input type='button' value='Run' id='run'>

  <p>Image appears here:</p>
  <img id='img' src=''/>

  <pre><code id='output'></code></pre>
  </section>
  <section id=tryHistory>
    {{range .Tries}}
      <div class=tries>
        <a href="/c/{{.Hash}}">
          <img width=64 height=64 src="/i/{{.Hash}}.png">
        </a>
      </div>
    {{end}}
  </section>

  <script type='text/javascript' charset='utf-8'>
      // Set the workspace name so run.js also updates the history.
      var workspaceName = "{{.Name}}";
  </script>
  <script src="/js/run.js" type="text/javascript" charset="utf-8"></script>
{{else}}
  Create a new workspace:
  <form action="." method="POST" accept-charset="utf-8">
    <p><input type="submit" value="Create"></p>
  </form>
{{end}}
  </section>
</body>
</html>
